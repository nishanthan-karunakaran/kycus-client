<section class="flex h-full flex-col gap-4">
  <div class="flex justify-between">
    <ui-input
      type="search"
      placeholder="Search Company"
      class="w-36"
      (valueChange)="onSearchInputChange($event)"
      aria-label="Search for a company"
      icon="search"
      iconColor="grey"
      [iconSize]="18"
    ></ui-input>

    <div class="flex items-center gap-2">
      <ui-button
        label="Filter"
        icon="sliders-horizontal"
        [iconSize]="14"
        class="btn-outline"
      />
      <ui-button
        label="Upload"
        icon="upload"
        [iconSize]="14"
        (btnClick)="openModal()"
      />
    </div>
  </div>

  <div class="flex-1 overflow-y-auto px-0.5">
    <table aria-labelledby="user-table">
      <thead class="sticky top-0">
        <tr>
          <th scope="col" class="w-[25%]">Company</th>
          <th scope="col" class="w-[25%]">Requested On</th>
          <th scope="col" class="w-[20%]">Status</th>
          <th scope="col" class="w-[30%]">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngIf="filteredUsers.length === 0">
          <td colspan="4" class="text-center">No data found</td>
        </tr>

        <tr *ngFor="let item of filteredUsers; trackBy: trackRow" tabindex="0">
          <td>{{ item.company }}</td>
          <td>{{ item.requestedOn }}</td>
          <td
            [ngClass]="
              item.status.toLowerCase() === 'completed'
                ? 'text-success'
                : 'text-secondary'
            "
          >
            {{ item.status }}
          </td>
          <td class="flex items-center gap-2">
            <ui-button
              class="btn-outline-compact font-semibold"
              label="Send Reminder"
              icon="bell-ring"
              [iconSize]="14"
              iconPos="right"
            />
            <ui-button
              class="btn-outline-compact p-1.5"
              icon="download"
              [iconSize]="14"
            />
            <ui-button
              class="btn-outline-compact p-1.5"
              icon="eye"
              [iconSize]="14"
            />
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <ui-pagination
    [active]="1"
    [totalItems]="users.length"
    class="self-center"
    (activeChange)="setActivePage($event)"
  />
</section>

<ui-modal
  [isOpen]="isModalOpen"
  header="Bulk Upload"
  [showClose]="true"
  (close)="closeModal()"
>
  <div
    class="flex items-center justify-center border-2 border-dashed border-primary p-6"
  >
    <div class="flex w-2/3 flex-col items-center gap-4 text-primary">
      <div class="flex flex-col items-center gap-2">
        <div class="w-14">
          <img src="./assets/images/icons/upload-file.svg" alt="Upload File" />
        </div>
        <p>Drag & Drop</p>
      </div>

      <div class="flex w-full items-center gap-2">
        <hr />
        <span>or</span>
        <hr />
      </div>

      <ui-button label="Browse files" class="btn-outline" />

      <p class="text-pretty text-center">
        Supports only <strong>EXCEL format</strong> <br />Should be same as
        Given format <br />Max File Size <strong>20mb</strong>
      </p>

      <a class="text-secondary">Download Sample</a>
    </div>
  </div>
</ui-modal>
